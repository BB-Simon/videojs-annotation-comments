<!DOCTYPE HTML>
<HTML>
	<HEAD>
		<title>VideoJS Annotated Comments Test Page</title>
		<link href="/video.js/dist/video-js.css" rel="stylesheet">
		<link href="assets/videojs_skin.css" rel="stylesheet">
		<link href="assets/page.css" rel="stylesheet">
		<link href="css/annotations.css" rel="stylesheet">
		<script>
			function guid() {
		      function s4() {
		        return Math.floor((1 + Math.random()) * 0x10000)
		          .toString(16)
		          .substring(1);
		      }
		      return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
		        s4() + '-' + s4() + s4() + s4();
		    }
			var annotations = [
				{
					id: guid(),
					range: {
						start: 11
					},
					shape: null,
					comments: [
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-19T02:05:55+00:00"
							},
							body:	"I think I should be holding a gun in this scene."
						},
						{
							id: guid(),
							meta: {
								user_id: 2,
								user_name: "Director Chad",
								datetime: "2017-03-22T02:05:55+00:00"
							},
							body: "Keanu - we've talked about this. You don't need to be killing in every scene.\n\nLet the violence build!"
						}
					]
				},
				{
					id: guid(),
					range: {
						start: 19,
						end: 24
					},
					shape: null,
					comments: [
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-20T02:05:55+00:00"
							},
							body:	"This is more like it! Dramatic close ups and weapon prep!"
						},
						{
							id: guid(),
							meta: {
								user_id: 2,
								user_name: "Director Chad",
								datetime: "2017-03-22T02:05:55+00:00"
							},
							body: "Yes, you edited this sequence yourself."
						},
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-22T02:05:57+00:00"
							},
							body:	"Can the FX team add more blood to my face when I look in the mirror?"
						}
					]
				},
				{
					id: guid(),
					range: {
						start: 32
					},
					shape: {
						x1: 13,
						x2: 40,
						y1: 40,
						y2: 76
					},
					comments: [
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-20T02:05:55+00:00"
							},
							body:	"I love dogs!"
						}
					]
				},
				{
					id: guid(),
					range: {
						start: 45,
						end: 59
					},
					shape: null,
					comments: [
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-20T02:05:55+00:00"
							},
							body: "Wow, can I deliver a line or what?"
						}
					]
				},
				{
					id: guid(),
					range: {
						start: 68,
						end: 93
					},
					shape: null,
					comments: [
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-19T02:05:55+00:00"
							},
							body: "Can we pump up the music for the ending?"
						},
						{
							id: guid(),
							meta: {
								user_id: 2,
								user_name: "Director Chad",
								datetime: "2017-03-20T02:05:55+00:00"
							},
							body: "I will ask the sound team. Will reply here when they get back to me."
						},
						{
							id: guid(),
							meta: {
								user_id: 2,
								user_name: "Director Chad",
								datetime: "2017-03-21T02:05:55+00:00"
							},
							body: "The sound team said no. They also said to stop telling them how to mix."
						},
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-22T02:05:55+00:00"
							},
							body: "Fine but I think we should at least end with a huge explosion.\n\nMaybe I could even walk away from of it without looking. Slow motion?"
						},
						{
							id: guid(),
							meta: {
								user_id: 2,
								user_name: "Director Chad",
								datetime: "2017-03-23T02:05:55+00:00"
							},
							body: "I don't understand why you think we are going to reshoot things. This is a trailer edit."
						}
					]
				},
				{
					id: guid(),
					range: {
						start: 77.5
					},
					shape: {
						x1: 25,
						x2: 55,
						y1: 44,
						y2: 68
					},
					comments: [
						{
							id: guid(),
							meta: {
								user_id: 1,
								user_name: "Keanu Reeves",
								datetime: "2017-03-20T02:05:55+00:00"
							},
							body: "EPIC!!! And it was all my idea."
						},
						{
							id: guid(),
							meta: {
								user_id: 2,
								user_name: "Director Chad",
								datetime: "2017-03-22T02:05:55+00:00"
							},
							body: "But you know it wasn't?"
						}
					]
				}
			]
		</script>

	</HEAD>
	<BODY>
		<video id="the_video" class="video-js" controls preload="auto" width="720" height="480" poster="MY_VIDEO_POSTER.jpg" data-setup="{}">
		    <source src="john-wick-chapter-2-trailer-1_h720p.mp4" type='video/mp4'>
		    <p class="vjs-no-js">
		     	To view this video please enable JavaScript, and consider upgrading to a web browser that
		     	<a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
		    </p>
		</video>


		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="/video.js/dist/video.min.js"></script>
		<script src="/videojs-annotation-comments.js"></script>
		<script>
			var player = videojs('the_video');
			player.annotationComments({
				annotationsObjects: annotations,
				meta: {
					user_id: 2,
					user_name: "Director Chad"
				},
				onStateChanged: function(data){console.log(data)}
			});
		</script>
	</BODY>
</HTML>
